{
    "change_filament_gcode": ";=== AMS Filament change code ===\n;==== machines: X1C P1P P1S  ====\n;======== written by AMT ========\n;======== date: 20231022 ========\n\n{if next_extruder != current_extruder}\nM620 S[next_extruder]A ; -> AMS\nM204 S9000 ; set printing and travel acceleration to 9000mm/min^2\n{if toolchange_count > 1 && (z_hop_types[current_extruder] == 0 || z_hop_types[current_extruder] == 3)}\nG17 ; select xy plane\nG2 Z{z_after_toolchange + 0.4} I0.86 J0.86 P1 F10000 ; spiral lift a little from second lift onwards\n{endif}\nG1 Z{max_layer_z + 3.0} F1200 ; raise the nozzle 3mm above what has already been printed\nM106 P1 S0 ; turn part cooling fan off\nM106 P2 S0 ; turn Aux fan off\n{if old_filament_temp > 142 && next_extruder < 255} ; if the old filament temp is above 142°C and the next filament slot is logically possible\nM104 S[old_filament_temp] ; set nozzle temp to current printing filament temp, without waiting for it to be reached\n{endif}\nG1 X20 Y50 F20000 ; move close to filament cutting position\nG1 Y-3 ; move to cut filament\n;G1 X60 F20000 ; move in x towards poop chute (currently not needed because of M620)\n;G1 Y245 F20000 ; move in y towards poop chute (currently not needed because of M620)\n;G1 Y265 F3000 ; move over poop chute (currently not needed because of M620)\nM960 S4 P1 ; turn Calibration unit white LEDs ON\n{if toolchange_count == 2}\nM620.1 X[travel_point_1_x] Y[travel_point_1_y] F18000 P0\nM620.1 X[travel_point_2_x] Y[travel_point_2_y] F18000 P1\nM620.1 X[travel_point_3_x] Y[travel_point_3_y] F18000 P2\n{endif}\nM620.1 E F[old_filament_e_feedrate] T[old_filament_temp] ; -> AMS\nT[next_extruder] ; AMS spooling operation\nM620.1 E F[new_filament_e_feedrate] T[new_filament_temp] ; -> AMS\n{if next_extruder < 255} ; if the next filament is logically possible (officially only 16 filaments)\nM400 ; wait\nG92 E0 ; use relative extrusion coordinate, starting at zero\n; FLUSH_START\n{if (((first_flush_volume + second_flush_volume)*2.405) > nozzle_volume) && ((old_filament_e_feedrate > 50) && (new_filament_e_feedrate > 50))} ; if the flush volume is greater than the estimated filament volume between nozzle tip and cutter (stock Hotend = 107mm^3) and the volumetric flow rate high enough\nM104 S{max(old_filament_temp, new_filament_temp)} ; set the temperature to the higher printing temp of both filaments without waiting for it to be reached\nG1 E{first_flush_volume} F{old_filament_e_feedrate} ; flush old filament\nM400 ; wait\nM109 S{max(old_filament_temp, new_filament_temp)} ; set the temperature to the higher printing temp of both filaments and wait for it to be reached\nG1 E{second_flush_volume} F{new_filament_e_feedrate} ; purge new filament\n{elsif (((first_flush_volume + second_flush_volume)*2.405) > nozzle_volume) && ((old_filament_e_feedrate <= 50) || (new_filament_e_feedrate) <= 50)} ;if the flush volume is greater than the estimated filament volume between nozzle tip and cutter (stock Hotend = 107mm^3) and the volumetric flow rate not high enough\nG1 E{first_flush_volume * 0.18} F{old_filament_e_feedrate}\nG1 E{first_flush_volume * 0.07} F55\nG1 E{first_flush_volume * 0.18} F{old_filament_e_feedrate}\nG1 E{first_flush_volume * 0.07} F55\nG1 E{first_flush_volume * 0.18} F{old_filament_e_feedrate}\nG1 E{first_flush_volume * 0.07} F55\nG1 E{first_flush_volume * 0.18} F{old_filament_e_feedrate}\nG1 E{first_flush_volume * 0.07} F55\nG1 E{second_flush_volume * 0.18} F{new_filament_e_feedrate}\nG1 E{second_flush_volume * 0.07} F55\nG1 E{second_flush_volume * 0.18} F{new_filament_e_feedrate}\nG1 E{second_flush_volume * 0.07} F55\nG1 E{second_flush_volume * 0.18} F{new_filament_e_feedrate}\nG1 E{second_flush_volume * 0.07} F55\nG1 E{second_flush_volume * 0.18} F{new_filament_e_feedrate}\nG1 E{second_flush_volume * 0.05} F55\nG1 E{second_flush_volume * 0.02} F{new_filament_e_feedrate}\n{elsif ((first_flush_volume + second_flush_volume)*2.405) == 0} ; if the flush volume is exactly zero\nM400 ; do basically nothing (just clearing buffer)\n{else}\nG1 E45 F{old_filament_e_feedrate} ; extrude a filament length corresponding to the volume between nozzle tip and cutter\n{endif}\n; FLUSH_END\n;M400 ; wait\nM109 S[new_filament_temp] ; set new filament temp and wait for it to be reached\nG92 E0 ; use relative extrusion coordinate, starting at zero\nG1 E-[new_retract_length_toolchange] F1800 ; retract a bit\nG1 X80 F18000 ; shake rigth to put down garbage\nG1 X60 F18000 ; shake left to put down garbage\nG1 X70 F10000 ; shake rigth to put down garbage\n{if (filament_type[current_extruder]==\"PETG\")}\nM106 P1 S127 ; set part cooling fan to 50%\n{else}\nM106 P1 S190 ; set part cooling fan to 75%\n{endif}\nM400 S2 ; wait just a little for the fan to speed up\nG1 X90 F3000 ; wipe move to the right\nG1 X70 F10000 ; wipe move to the left\nG1 X100 F10000 ; wipe move to the right\nG1 Y255 F18000 ; move a bit in front of poop chute\nG1 X120 F18000 ; move 30mm to the right\nG1 X70 F18000 ; move to left side of the wiper\nG1 Y265 F12000 ; move back over poop chute and hit latch\nG1 Y264 F12000 ; move 1mm in y to reduce wear on the wiper)\nG1 X100 F8000 ; wipe move to the right\nG1 X165 F18000 ; move further to the right to disconnect possible stringing\nG1 Y256 ; move a bit in front of poop chute to prevent colision\nG1 Z{max_layer_z + 3.0} F3000 ; nozzle 3mm above what has already been printed\n{if layer_z <= (initial_layer_print_height + 0.001)}\nM204 S[initial_layer_acceleration] ; if it is the first layer, set acceleration to initial_layer_acceleration\n{else}\nM204 S[default_acceleration] ; if it is not the first layer, set acceleration to default\n{endif}\nM960 S4 P0 ; turn calibration unit white LEDs OFF\n{else}\nG1 X90 F3000 ; wipe move to the right\nG1 Y255 F4000 ; move 10mm towards front\nG1 X100 F5000 ; move slowly 10mm to the right\nG1 X120 F15000 ; move fast 20mm to the right\nM400 ; wait\nM960 S4 P0 ; turn calibration unit white LEDs OFF\nG1 X[x_after_toolchange] Y[y_after_toolchange] Z[z_after_toolchange] F12000 ; move to position after filament change\n{endif}\nM621 S[next_extruder]A ; -> AMS\n{endif}",
    "extruder_clearance_radius": "68",
    "from": "User",
    "inherits": "Bambu Lab X1 Carbon 0.4 nozzle",
    "is_custom_defined": "0",
    "machine_end_gcode": ";===== date: 20221202 =====================\n{if timelapse_type == 0}\nM991 S0 P-1 ;end traditional timelapse immediately\n{endif}\nM400 ; wait for buffer to clear\nG92 E0 ; zero the extruder\nG1 E-0.8 F1800 ; retract\nG1 Z{max_layer_z + 0.5} F900 ; lower z a little\nG1 X65 Y245 F12000 ; move to safe pos \nG1 Y265 F3000\n{if timelapse_type == 1}\nM991 S0 P-1 ;end smooth timelapse at safe pos\n{endif}\n\nG1 X65 Y245 F12000\nG1 Y265 F3000\nM140 S0 ; turn off bed\nM106 S0 ; turn off fan\nM106 P2 S0 ; turn off remote part cooling fan\nM106 P3 S0 ; turn off chamber cooling fan\n\nG1 X100 F12000 ; wipe\n\n; pull back filament to AMS\n;M620 S255\n\nG1 X20 Y50 F12000\nG1 Y-3\nT255\nG1 X65 F12000\nG1 Y265\nG1 X100 F12000 ; wipe\nM621 S255\nM104 S0 ; turn off hotend\n\nM400 ; wait all motion done\nM17 S\nM17 Z0.4 ; lower z motor current to reduce impact if there is something in the bottom\n{if (max_layer_z + 100.0) < 250}\n    G1 Z{max_layer_z + 100.0} F600\n    G1 Z{max_layer_z +98.0}\n{else}\n    G1 Z250 F600\n    G1 Z248\n{endif}\nM400 P100\nM17 R ; restore z current\n\nG90\nG1 X128 Y250 F3600\n\nM220 S100  ; Reset feedrate magnitude\nM201.2 K1.0 ; Reset acc magnitude\nM73.2   R1.0 ;Reset left time magnitude\nM1002 set_gcode_claim_speed_level : 0\n\nM17 X0.8 Y0.8 Z0.5 ; lower motor current to 45% power\n\n;ABS/ASA VOC removal \n{if filament_type[initial_tool]==\"ABS\" || filament_type[initial_tool]==\"ASA\"}\n     M140 S50 ;Bed temperature\n     M106 P3 S255 ;chamber fan\n     M106 P2 S255 ;aux fan\n     ;Dwell 3 minutes to vent VOC\n     G4 S90 \n     G4 S90\n     M106 P3 S0 \n     M106 P2 S0\n     M106 P1 S0\n{endif}\n\n;turn off fans\n     M106 P3 S0 \n     M106 P2 S0\n     M106 P1 S0\n\nM140 S0 ;Bed temperature\n\nM960 S5 P0 ; Turn off toolhead light ",
    "machine_load_filament_time": "45",
    "machine_max_acceleration_travel": [
        "9000",
        "9000"
    ],
    "machine_start_gcode": ";===== machine: X1 =========================\n\n;===== date: 20230707 ======================\n;MiscPrinter Modified;\n;========================================\n\n;===== turn on the HB fan =================\nM104 S75 ;set extruder temp to turn on the HB fan and prevent filament oozing from nozzle\n\n;===== reset machine status =================\nG91\nM17 Z0.4 ; lower the z-motor current\nG380 S2 Z30 F300 ; G380 is same as G38; lower the hotbed , to prevent the nozzle is below the hotbed\nG380 S2 Z-25 F300 ;\nG1 Z5 F300;\nG90\nM17 X1.2 Y1.2 Z0.75 ; reset motor current to default\nM960 S5 P1 ; turn on logo lamp\n\nG90\n\nM220 S100 ;Reset Feedrate\nM221 S100 ;Reset Flowrate\nM73.2   R1.0 ;Reset left time magnitude\nM1002 set_gcode_claim_speed_level : 5\n\nM221 X0 Y0 Z0 ; turn off soft endstop to prevent protential logic problem\n\nG29.1 Z0.0 ; clear z-trim value first\n\nM204 S10000 ; init ACC set to 10m/s^2\n\n;===== HEAT SOAK ====================\n{if (filament_type[initial_tool]==\"ABS\") || (filament_type[initial_tool]==\"ASA\") || (filament_type[initial_tool]==\"PA-CF\") || (filament_type[initial_tool]==\"PAHT-CF\") || (filament_type[initial_tool]==\"PA\") || (filament_type[initial_tool]==\"PC\")}\n    M140 S120 ; set bed temp at 120ºc\n    M104 S125 ; set nozzle temp\n    G28 ; home\n    G0 Z150 F2000 ; drop build plate\n    M106 P2 S255 ; turn ON aux fan at full speed\n    M106 P3 S0 ; turn OFF chamber fan\n    G4 S90 ; wait 90 seconds\n    G4 S90 ; wait 90 seconds\n    G4 S90 ; wait 90 seconds\n    G0 Z10 F2000 ; raise build plate\n    M106 P2 S0 ; turn OFF aux fan\n{endif}\n\n;===== heatbed preheat ====================\nM1002 gcode_claim_action : 2\nM140 S[bed_temperature_initial_layer_single] ;set bed temp\nM190 S[bed_temperature_initial_layer_single] ;wait for bed temp\n\n{if scan_first_layer}\n;=========register first layer scan=====\nM977 S1 P60\n{endif}\n\n;=============turn on fans to prevent PLA jamming=================\n{if (filament_type[initial_tool]==\"PLA\" || filament_type[initial_tool]==\"TPU\")}\n    {if (bed_temperature[current_extruder] >45)||(bed_temperature_initial_layer[current_extruder] >45)}\n    M106 P3 S180\n    {elsif (bed_temperature[current_extruder] >50)||(bed_temperature_initial_layer[current_extruder] >50)}\n    M106 P3 S205\n    {endif};Prevent PLA from jamming\n{endif}\nM106 P2 S100 ; turn on big fan ,to cool down toolhead\n\n;===== prepare print temperature and material ==========\nM104 S[nozzle_temperature_initial_layer] ;set extruder temp\nG91\nG0 Z10 F1200\nG90\nG28 X\nM975 S1 ; turn on \nG1 X60 F12000\nG1 Y245\nG1 Y265 F3000\nM620 M\nM620 S[initial_tool]A   ; switch material if AMS exist\n    M109 S[nozzle_temperature_initial_layer]\n    G1 X120 F12000\n\n    G1 X20 Y50 F12000\n    G1 Y-3\n    T[initial_tool]\n    G1 X54 F12000\n    G1 Y265\n    M400\nM621 S[initial_tool]A\n\nM412 S1 ; ===turn on filament runout detection===\n\nM109 S265 ;set nozzle to common flush temp\nM106 P1 S0\nG92 E0\nG1 E35 F200\nM400\nM104 S[nozzle_temperature_initial_layer]\nG92 E0\nG1 E30 F200\nM400\nM106 P1 S255\nG92 E0\nG1 E5 F300\nM109 S{nozzle_temperature_initial_layer[initial_extruder]-20} ; drop nozzle temp, make filament shink a bit\nG92 E0\nG1 E-1 F300\n\nG1 X70 F9000\nG1 X76 F15000\nG1 X65 F15000\nG1 X76 F15000\nG1 X65 F15000; shake to put down garbage\nG1 X80 F6000\nG1 X95 F15000\nG1 X80 F15000\nG1 X165 F15000; wipe and shake\nM400\nM106 P1 S0\n;===== prepare print temperature and material end =====\n\n\n;===== wipe nozzle ===============================\nM1002 gcode_claim_action : 14\nM975 S1\nM106 S255\nG1 X65 Y230 F18000\nG1 Y264 F6000\nM109 S{nozzle_temperature_initial_layer[initial_extruder]-20}\nG1 X100 F18000 ; first wipe mouth\n\nG0 X135 Y253 F20000  ; move to exposed steel surface edge\nG28 Z P0 T300; home z with low precision,permit 300deg temperature\nG29.2 S0 ; turn off ABL\nG0 Z5 F20000\n\nG1 X60 Y265\nG92 E0\nG1 E-0.5 F300 ; retrack more\nG1 X100 F5000; second wipe mouth\nG1 X70 F15000\nG1 X100 F5000\nG1 X70 F15000\nG1 X100 F5000\nG1 X70 F15000\nG1 X100 F5000\nG1 X70 F15000\nG1 X90 F5000\nG0 X128 Y261 Z-1.5 F20000  ; move to exposed steel surface and stop the nozzle\nM104 S140 ; set temp down to heatbed acceptable\nM106 S255 ; turn on fan (G28 has turn off fan)\n\nM221 S; push soft endstop status\nM221 Z0 ;turn off Z axis endstop\nG0 Z0.5 F20000\nG0 X125 Y259.5 Z-1.01\nG0 X131 F211\nG0 X124\nG0 Z0.5 F20000\nG0 X125 Y262.5\nG0 Z-1.01\nG0 X131 F211\nG0 X124\nG0 Z0.5 F20000\nG0 X125 Y260.0\nG0 Z-1.01\nG0 X131 F211\nG0 X124\nG0 Z0.5 F20000\nG0 X125 Y262.0\nG0 Z-1.01\nG0 X131 F211\nG0 X124\nG0 Z0.5 F20000\nG0 X125 Y260.5\nG0 Z-1.01\nG0 X131 F211\nG0 X124\nG0 Z0.5 F20000\nG0 X125 Y261.5\nG0 Z-1.01\nG0 X131 F211\nG0 X124\nG0 Z0.5 F20000\nG0 X125 Y261.0\nG0 Z-1.01\nG0 X131 F211\nG0 X124\nG0 X128\nG2 I0.5 J0 F300\nG2 I0.5 J0 F300\nG2 I0.5 J0 F300\nG2 I0.5 J0 F300\n\nM109 S140 ; wait nozzle temp down to heatbed acceptable\nG2 I0.5 J0 F3000\nG2 I0.5 J0 F3000\nG2 I0.5 J0 F3000\nG2 I0.5 J0 F3000\n\nM221 R; pop softend status\nG1 Z10 F1200\nM400\nG1 Z10\nG1 F30000\nG1 X230 Y15\nG29.2 S1 ; turn on ABL\n;G28 ; home again after hard wipe mouth\nM106 S0 ; turn off fan , too noisy\n;===== wipe nozzle end ================================\n\n\n;===== bed leveling ==================================\nM1002 judge_flag g29_before_print_flag\nM622 J1\n\n    M1002 gcode_claim_action : 1\n    G29 A X{first_layer_print_min[0]} Y{first_layer_print_min[1]} I{first_layer_print_size[0]} J{first_layer_print_size[1]}\n    M400\n    M500 ; save cali data\n\nM623\n;===== bed leveling end ================================\n\n;===== home after wipe mouth============================\nM1002 judge_flag g29_before_print_flag\nM622 J0\n\n    M1002 gcode_claim_action : 13\n    G28\n\nM623\n;===== home after wipe mouth end =======================\n\nM975 S1 ; turn on vibration supression\n\n;===== check scanner clarity ===========================\nM972 S5 P0\n;===== check scanner clarity end =======================\n\n;=============turn on fans to prevent PLA jamming=================\n{if filament_type[initial_tool]==\"PLA\"}\n    {if (bed_temperature[current_extruder] >40)||(bed_temperature_initial_layer[current_extruder] >40)}\n    M106 P3 S115\n    {elsif (bed_temperature[current_extruder] >50)||(bed_temperature_initial_layer[current_extruder] >50)}\n    M106 P3 S205\n    {endif};Prevent PLA from jamming\n{endif}\nM106 P2 S100 ; turn on big fan ,to cool down toolhead\n\nM104 S{nozzle_temperature_initial_layer[initial_extruder]} ; set extrude temp earlier, to reduce wait time\n\n;===== mech mode fast check============================\nG1 X128 Y128 Z10 F20000\nM400 P200\nM970.3 Q1 A7 B30 C80  H15 K0\nM974 Q1 S2 P0\n\nG1 X128 Y128 Z10 F20000\nM400 P200\nM970.3 Q0 A7 B30 C90 Q0 H15 K0\nM974 Q0 S2 P0\n\nM975 S1\nG1 F30000\nG1 X230 Y15\nG28 X ; re-home XY \n;===== mech mode fast check============================\n\n{if scan_first_layer}\n;start heatbed  scan====================================\nM976 S2 P1 \nG90\nG1 X128 Y128 F20000\nM976 S3 P2  ;register void printing detection\n{endif}\n\n;===== noozle load line ===============================\nM975 S1\nG90 \nM83\nT1000\nG1 X18.0 Y1.0 Z0.8 F18000;Move to start position\nM109 S{nozzle_temperature[initial_extruder]}\nG1 Z0.2\nG0 E2 F300\nG0 X240 E25 F{outer_wall_volumetric_speed/(0.3*0.5)     * 60} \nG0 Y15 E1.166 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60}\nG0 X239.5\nG0 E0.2\nG0 Y1.5 E1.166\nG0 X18 E25 F{outer_wall_volumetric_speed/(0.3*0.5)     * 60} \nM400\n\n;===== for Textured PEI Plate , lower the nozzle as the nozzle was touching topmost of the texture when homing ==\n;curr_bed_type={curr_bed_type}\n{if curr_bed_type==\"Textured PEI Plate\"}\nG29.1 Z-0.05 ; for Textured PEI Plate\n{endif}\n\n;===== draw extrinsic para cali paint =================\nM1002 judge_flag extrude_cali_flag\nM622 J1\n\n    M1002 gcode_claim_action : 8\n\n    T1000 \n    G0 F3000 X28.000 Y19.500 Z0.200\n    G1 F1200.0 X28.000 Y45.000 Z0.200 E1.679 \n    G1 F1200.0 X28.500 Y45.000 Z0.200 E0.032 \n    G1 F1200.0 X28.500 Y19.500 Z0.200 E1.679 \n    G1 F1200.0 X31.000 Y19.500 Z0.200 E0.164 \n    G1 F1200.0 X31.000 Y49.000 Z0.200 E1.944 \n    G1 F1200.0 X37.500 Y49.000 Z0.200 E0.428 \n    G1 F1200.0 X37.500 Y60.000 Z0.200 E0.725 \n    G1 F1200.0 X42.500 Y60.000 Z0.200 E0.329 \n    G1 F1200.0 X42.500 Y49.000 Z0.200 E0.725 \n    G1 F1200.0 X48.000 Y49.000 Z0.200 E0.362 \n    G1 F1200.0 X48.000 Y20.000 Z0.200 E1.910 \n    G1 F1200.0 X30.000 Y20.000 Z0.200 E1.186 \n    G1 F1200.0 X30.000 Y41.000 Z0.200 E1.384 \n    G1 F1200.0 X50.000 Y41.000 Z0.200 E1.318 \n    G1 F1200.0 X50.000 Y34.000 Z0.200 E0.461 \n    G1 F1200.0 X30.000 Y34.000 Z0.200 E1.318 \n    G1 F1500.000 E-0.800 \n\n    ;=========== extruder cali extrusion ================== \n    T1000 \n    M83 \n    {if default_acceleration > 0}\n        {if outer_wall_acceleration > 0}\n            M204 S[outer_wall_acceleration]\n        {else}\n            M204 S[default_acceleration]\n        {endif}\n    {endif}\n    G0 X35.000 Y18.000 Z0.300 F30000 E0\n    G1 F1500.000 E0.800 \n    M106 S0 ; turn off fan\n    G0 X185.000 E16.9 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}\n    G0 X187 Z0\n    G1 F1500.000 E-0.800 \n    G0 Z1\n    G0 X180 Z0.3 F18000\n    \n    M900 L1000.0 M1.0\n    M900 K0.030 \n    G0 X45.000 F30000 \n    G0 Y20.000 F30000 \n    G1 F1500.000 E0.800 \n    G1 X65.000  E2.25000 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60}\n    G1 X70.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X75.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X80.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X85.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X90.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X95.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X100.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X105.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X110.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X115.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X120.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X125.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X130.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X135.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X140.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X145.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X150.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X155.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X160.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X165.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X170.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X175.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X180.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 F1500.000 E-0.800 \n    G1 X183 Z0.15 F30000\n    G1 X185\n    G1 Z1.0\n    G0 Y18.000 F30000 ; move y to clear pos \n    G1 Z0.3\n    M400\n\n    G0 X45.000 F30000 \n    M900 K0.015 \n    G0 X45.000 F30000 \n    G0 Y22.000 F30000 \n    G1 F1500.000 E0.800 \n    G1 X65.000  E2.25000 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60}\n    G1 X70.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X75.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X80.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X85.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X90.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X95.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X100.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X105.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X110.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X115.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X120.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X125.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X130.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X135.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X140.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X145.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X150.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X155.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X160.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X165.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X170.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X175.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X180.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 F1500.000 E-0.800 \n    G1 X183 Z0.15 F30000\n    G1 X185\n    G1 Z1.0\n    G0 Y18.000 F30000 ; move y to clear pos \n    G1 Z0.3\n    M400\n\n    G0 X45.000 F30000 \n    M900 K0.000 \n    G0 X45.000 F30000 \n    G0 Y24.000 F30000 \n    G1 F1500.000 E0.800 \n    G1 X65.000  E2.25000 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60}\n    G1 X70.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X75.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X80.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X85.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X90.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X95.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X100.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X105.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X110.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X115.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X120.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X125.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X130.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X135.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X140.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X145.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X150.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X155.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X160.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X165.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X170.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)/ 4 * 60} \n    G1 X175.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 X180.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.9)    * 60}  \n    G1 F1500.000 E-0.800\n    G1 X183 Z0.15 F30000\n    G1 X185\n    G1 Z1.0\n    G0 Y18.000 F30000 ; move y to clear pos \n    G1 Z0.3\n\n    G0 X45.000 F30000 ; move to start point\n\nM623 ; end of \"draw extrinsic para cali paint\"\n\nM104 S140\n\n\n;=========== laser and rgb calibration =========== \nM400\nM18 E\nM500 R\n\nM973 S3 P14\n\nG1 X120 Y1.0 Z0.3 F18000.0;Move to first extrude line pos\nT1100\nG1 X143.0 Y1.0 Z0.3 F18000.0;Move to first extrude line pos\n\nM400 P100\n\nM960 S1 P1\nM400 P100\nM973 S6 P0; use auto exposure for horizontal laser by xcam\nM960 S0 P0\n\nG1 X240.0 Y6.0 Z0.3 F18000.0;Move to vertical extrude line pos\nM960 S2 P1\nM400 P100\nM973 S6 P1; use auto exposure for vertical laser by xcam\nM960 S0 P0\n\n;=========== handeye calibration ======================\nM1002 judge_flag extrude_cali_flag\nM622 J1\n\n    M973 S3 P1 ; camera start stream\n    M400 P500\n    M973 S1 \n    G0 F6000 X40.000 Y54.500 Z0.000 \n    M960 S0 P1\n    M973 S1\n    M400 P800\n    M971 S6 P0\n    M973 S2 P16000\n    M400 P500 \n    G0 Z0.000 F12000\n    M960 S0 P0\n    M960 S1 P1 \n    G0 Y37.50 \n    M400 P200\n    M971 S5 P1 \n    M960 S0 P0\n    M960 S2 P1 \n    G0 Y54.50 \n    M400 P200 \n    M971 S5 P3 \n    G0 Z0.500 F12000\n    M960 S0 P0\n    M960 S1 P1 \n    G0 Y37.50 \n    M400 P200\n    M971 S5 P2 \n    M960 S0 P0\n    M960 S2 P1 \n    G0 Y54.50 \n    M400 P500 \n    M971 S5 P4 \n    M963 S1 \n    M400 P1500 \n    M964 \n    T1100 \n    G0 F6000 X40.000 Y54.500 Z0.000 \n    M960 S0 P1\n    M973 S1\n    M400 P800\n    M971 S6 P0\n    M973 S2 P16000\n    M400 P500 \n    G0 Z0.000 F12000\n    M960 S0 P0\n    M960 S1 P1 \n    G0 Y37.50 \n    M400 P200\n    M971 S5 P1 \n    M960 S0 P0\n    M960 S2 P1 \n    G0 Y54.50 \n    M400 P200 \n    M971 S5 P3 \n    G0 Z0.500 F12000\n    M960 S0 P0\n    M960 S1 P1 \n    G0 Y37.50 \n    M400 P200\n    M971 S5 P2 \n    M960 S0 P0\n    M960 S2 P1 \n    G0 Y54.50 \n    M400 P500 \n    M971 S5 P4 \n    M963 S1 \n    M400 P1500 \n    M964 \n    T1100 \n    G1 Z3 F3000 \n\n    M400\n    M500 ; save cali data\n\n    M104 S{nozzle_temperature[initial_extruder]} ; rise nozzle temp now ,to reduce temp waiting time.\n\n    T1100 \n    M400 P400 \n    M960 S0 P0\n    G0 F30000.000 Y22.000 X65.000 Z0.000\n    M400 P400 \n    M960 S1 P1 \n    M400 P50 \n\n    M969 S1 N3 A2000 \n    G0 F360.000 X181.000 Z0.000\n    M980.3 A70.000 B{outer_wall_volumetric_speed/(1.75*1.75/4*3.14)*60/4} C5.000 D{outer_wall_volumetric_speed/(1.75*1.75/4*3.14)*60} E5.000 F175.000 H1.000 I0.000 J0.015 K0.030\n    M400 P100 \n    G0 F20000\n    G0 Z1 ; rise nozzle up\n    T1000 ; change to nozzle space\n    G0 X45.000 Y16.000 F30000 ; move to test line pos\n    M969 S0 ; turn off scanning\n    M960 S0 P0\n\n\n    G1 Z2 F20000 \n    T1000 \n    G0 X45.000 Y16.000 F30000 E0\n    M109 S{nozzle_temperature[initial_extruder]}\n    G0 Z0.3\n    G1 F1500.000 E3.600 \n    G1 X65.000  E2.25000 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60}\n    G1 X70.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X75.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60}  \n    G1 X80.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X85.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60}  \n    G1 X90.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X95.000  E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60}  \n    G1 X100.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X105.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60}  \n    G1 X110.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X115.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60}  \n    G1 X120.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X125.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60}  \n    G1 X130.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X135.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60}\n\n    ; see if extrude cali success, if not ,use default value\n    M1002 judge_last_extrude_cali_success\n    M622 J0\n        M400\n        M900 K0.015 M{outer_wall_volumetric_speed/(1.75*1.75/4*3.14)*0.015}\n    M623 \n\n    G1 X140.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X145.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60}  \n    G1 X150.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X155.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60}  \n    G1 X160.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X165.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60}  \n    G1 X170.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X175.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60}  \n    G1 X180.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X185.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60} \n    G1 X190.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X195.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60} \n    G1 X200.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X205.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60} \n    G1 X210.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X215.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60} \n    G1 X220.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)/ 4 * 60} \n    G1 X225.000 E0.56250 F{outer_wall_volumetric_speed/(0.3*0.5)    * 60} \n    M973 S4 \n\nM623\n\n;========turn off light and wait extrude temperature =============\nM1002 gcode_claim_action : 0\nM973 S4 ; turn off scanner\nM400 ; wait all motion done before implement the emprical L parameters\n;M900 L500.0 ; Empirical parameters\nM109 S[nozzle_temperature_initial_layer]\nM960 S1 P0 ; turn off laser\nM960 S2 P0 ; turn off laser\nM106 S0 ; turn off fan\nM106 P2 S0 ; turn off big fan \nM106 P3 S0 ; turn off chamber fan\n\nM975 S1 ; turn on mech mode supression\nG90 \nM83\nT1000\n;====Back Corner Prime Lines=============\n;G1 X128.0 Y253.0 Z0.2 F6000.0;Move to start position\n;M109 S{nozzle_temperature_initial_layer[initial_extruder]}\n;G0 X253 E6.4 F{outer_wall_volumetric_speed/(0.3*0.6)    * 60} \n;G0 Y128 E6.4\n;G0 X252.5\n;G0 Y252.5 E6.4\n;G0 X128 E6.4",
    "machine_unload_filament_time": "15",
    "max_layer_height": [
        "0.27"
    ],
    "min_layer_height": [
        "0.09"
    ],
    "name": "X1C 0.4 Nozzle - Revised Alternative 1c",
    "nozzle_hrc": "55",
    "printer_settings_id": "X1C 0.4 Nozzle - Revised Alternative 1c",
    "upward_compatible_machine": [
        "Bambu Lab P1P 0.4 nozzle",
        "Bambu Lab X1 0.4 nozzle"
    ],
    "version": "1.4.1.1",
    "wipe_distance": [
        "2"
    ],
    "z_hop": [
        "0.6"
    ],
    "z_hop_types": [
        "Spiral Lift"
    ]
}
